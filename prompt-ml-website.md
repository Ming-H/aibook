# AI Book 机器学习网站项目规划提示词

你现在是一名资深机器学习工程师兼全栈开发工程师，同时具备产品经理能力，负责为“AI Book”打造一个 **可售卖的商业级一站式机器学习建模与数据分析网站产品**。目标用户大多不懂编程、不了解机器学习，因此产品必须极其易用、引导清晰、界面友好。请严格按照以下需求进行系统设计与实现规划，并在后续开发中遵循本提示词。

---

## 一、项目整体定位

- **项目名称**: AI Book（新的版本，不再是博客+AI工具集，而是面向非专业人群的商业级机器学习学习与实践平台）

- **商业化目标**:
  - 打造成可以 **对外售卖 / 订阅** 的 SaaS 网站，支持用户注册、登录、订阅和套餐升级/降级。
  - 提供稳定可靠的服务（包含日志监控、错误处理、限流与配额设计），适合作为长期使用的学习与实验工具。
  - 预留与支付系统（Stripe、微信支付、支付宝等）的集成方式，实现在线付费与自动续费。

- **核心产品目标**:
  - 为不会编程、不了解机器学习的用户，提供一个 **一站式「上传数据 → 自动建模 → 可视化分析 → 自动生成报告」的平台**。
  - 覆盖从 **数据处理 → 特征工程 → 模型训练 → 模型评估 → 结果分析 → 大模型总结** 的完整流程。
  - 支持用户上传/选择数据集，配置模型，查看训练过程和结果，并一键生成 **总结性报告（文本+图片）**。
  - 提供 **低代码/无代码操作体验**：通过 **点击、拖拽和可视化组件** 来完成特征选择、模型配置和训练，而不是直接写代码。

- **目标用户**:
  - 在校 **高中生 / 大学生**：课程作业、科研入门、竞赛练习，对编程和机器学习了解有限。
  - 机器学习初学者：希望通过可视化流程理解 ML 各环节，而不是直接写代码。
  - 教师或助教（后续可扩展）：希望用它做课堂演示或布置实验作业。

---

## 二、核心功能模块规划

### 0. 交互设计与界面要求（面向不会编程学生的可视化体验）

**设计目标**：让高中生、大学生即使不会写代码，也能靠“点一点、拖一拖”完成完整的机器学习流程。

- 整体交互
  - 使用 **「步骤向导式」流程（Step-by-step Wizard）**：顶部/侧边有「1. 数据 → 2. 特征 → 3. 模型 → 4. 评估 → 5. 总结」的进度条。
  - 每一步页面内容简洁，只聚焦当下需要做的 1–2 个决策，并给出简短说明和示例。
  - 关键操作统一用 **大按钮 + 简短文案**，例如「选择数据集」「开始训练」「生成总结报告」。

- 拖拽式/可视化工作流（可逐步演进）：
  - 初版：在每一步提供 **可视化选项卡、开关按钮和多选框**，例如勾选需要的特征、选择模型类型，而不是填写复杂表单。
  - 进阶版：支持一个 **流程画布（Pipeline Canvas）**，用户可以拖拽「数据清洗」「特征选择」「模型」等模块拼接流程，系统在后台翻译为真实的 ML Pipeline。

- UI 风格与观感
  - 使用 **现代简洁风格**：大留白、清晰图标、高对比度配色，支持浅色/深色模式。
  - 所有图表和卡片遵循统一设计系统（统一圆角、阴影、字体和颜色）。
  - 在关键图表旁边提供 **简短文字解释**，用通俗语言帮助学生理解（例如「这里的混淆矩阵展示了模型在不同类别上的预测情况」）。

- 教学友好性
  - 在界面中为每一步提供「**小问号提示**」或「新手引导模式」，解释术语（如：特征、标签、过拟合等）。
  - 支持预置 **教学案例模板**（例如“考试成绩预测”“房价预测”“简单分类任务”等），学生可以一键加载并跟随操作。

### 1. 数据管理与数据处理模块

**功能目标**：让用户能够方便地导入、浏览和预处理数据，为后续建模打基础。

- 数据导入
  - 支持上传本地 CSV 文件（后续可扩展为 Excel/Parquet 等）。
  - 提供示例数据集（例如 Titanic、Iris、房价预测等），用户可一键加载。
  - 显示数据基本信息：行数、列数、缺失情况、字段类型。

- 数据浏览
  - 表格视图：分页展示数据行，可搜索、排序。
  - 字段信息面板：每个字段的类型（数值/类别/日期/文本等）。

- 数据清洗与预处理
  - 缺失值处理：删除行/填充均值/中位数/众数/自定义常量。
  - 异常值检测（简单版）：如数值字段的箱线图和 3σ 规则标记异常点。
  - 数据划分：训练集/验证集/测试集自动划分（支持比例设置和随机种子）。

### 2. 特征工程与特征选择模块

**功能目标**：支持常见的特征处理、编码和特征选择，帮助用户构造更好的输入特征。

- 特征处理
  - 数值特征：标准化（StandardScaler）、归一化（MinMaxScaler）。
  - 类别特征：One-Hot 编码；目标编码可作为后续扩展。
  - 文本特征（可选，作为扩展）：简单 TF-IDF 提取。

- 特征选择
  - 过滤式方法：如基于方差阈值、基于单变量统计（例如卡方检验）。
  - 包装式/嵌入式（初版可只做简单版本）：例如基于模型的重要性（RandomForest / XGBoost 特征重要性）。

- 可视化
  - 特征分布图（直方图、箱线图）。
  - 特征重要性条形图（在模型训练后展示）。

### 3. 模型训练与管理模块

**功能目标**：让用户可以通过 Web 界面选择算法、配置超参数并发起训练任务，查看训练进度和结果。

- 模型类型（初版至少支持）：
  - 监督学习
    - 分类：Logistic Regression、Random Forest、XGBoost / Gradient Boosting。
    - 回归：Linear Regression、Random Forest Regressor、XGBoost Regressor。

- 模型配置（面向非编程用户）
  - 通过下拉框和多选框选择目标列（label）和特征列（默认自动选择所有非 label 列）。
  - 将复杂超参数只暴露少数几个常用选项（如 max_depth、n_estimators、learning_rate），并配有「推荐默认值」和简单说明。
  - 提供「快速开始」模式：只选任务类型和目标列，其余参数使用系统推荐配置。

- 训练任务
  - 用户在前端点击「开始训练」按钮后，后端启动训练任务。
  - 显示训练状态（排队中 / 训练中 / 已完成 / 失败），并在完成后跳转或提示查看结果页面。
  - 支持保存多次训练的 **“实验记录”**（模型类型、超参数、时间戳、指标）。

### 4. 模型评估与结果可视化模块

**功能目标**：以直观的图表和指标展示模型表现，并为后续大模型总结提供输入。

- 指标计算
  - 分类任务：Accuracy、Precision、Recall、F1-score、混淆矩阵。
  - 回归任务：MSE、RMSE、MAE、R²。

- 图表展示
  - 分类：
    - 混淆矩阵热力图。
    - ROC 曲线、PR 曲线（后续可扩展）。
  - 回归：
    - 真实值 vs 预测值散点图。
    - 残差分布图。

- 结果对比
  - 可以在同一数据集下 **对比不同模型/不同超参数实验** 的指标（表格 + 简单图表）。

### 5. 结果分析与报表模块

**功能目标**：汇总一次完整实验的所有关键信息，形成结构化结果对象，供大模型进一步生成总结。

- 实验结果结构设计（示意）：
  - 数据信息：样本量、特征数、特征列表、缺失值处理方式等。
  - 模型信息：算法类型、超参数配置、训练耗时。
  - 评估指标：不同指标的值、基线模型指标（如有）。
  - 可视化数据：图表数据（如混淆矩阵矩阵值、特征重要性数组等）。

- 前端展示
  - 「实验详情页」：以卡片+图表形式展示上述所有信息。
  - 支持用户选择「本次实验生成总结报告」。

### 6. 调用大模型生成总结性文档模块

**功能目标**：调用大语言模型（LLM），根据实验结果自动生成可读性强的总结报告。

- 调用方式
  - 通过后端封装一个统一的大模型调用接口（例如：
    - 预留对 OpenAI API / 本地部署模型 / 其他云厂商 API 的支持。
    - 在代码中使用环境变量 `LLM_API_KEY`、`LLM_API_BASE` 等配置。
  - 输入：
    - 上一节「实验结果结构」中整理好的 JSON 对象。
    - 补充 prompt：告知模型需要从业务角度 + 技术角度解读结果。

- 输出内容
  - 一篇 **结构化的总结文档**，包括：
    - 实验背景与目标说明。
    - 数据情况概览（字段、样本量、是否存在明显数据问题）。
    - 模型选择理由与配置说明。
    - 指标解读（好坏判断、与基线对比）。
    - 特征重要性分析（影响结果的关键特征）。
    - 潜在问题与改进建议（如数据不平衡、过拟合风险等）。
  - 将这份总结以 Markdown 或富文本形式返回前端展示，并支持用户下载为 `.md` 或 `.txt`。

### 7. 调用大模型生成总结性图片模块

**功能目标**：基于实验结果与文本总结，调用多模态/图像生成模型，生成一张概念性总结图片（用于报告配图或分享）。

- 调用方式
  - 与文本 LLM 类似，封装图像生成接口：
    - 预留调用 DALL·E、Stable Diffusion、Midjourney API 或其他图像模型的能力。
    - 使用环境变量配置图像模型的 API 密钥与地址。

- Prompt 设计（示例思路）
  - 先由文本 LLM 根据实验结果生成一段 **图像描述 Prompt**（英文更好）。
  - 图像描述应包含：
    - 任务类型（分类/回归）。
    - 模型表现好坏（优秀/一般/需要改进）。
    - 关键特征与业务场景关键词。
  - 再把这段图像描述传给图像生成模型，得到图片 URL 或 base64 数据。

- 前端展示
  - 在「实验详情 + 总结报告」页面展示生成的总结性图片。
  - 支持用户下载图片。

---

## 三、系统架构与技术栈建议（可在后续调整，但提示词中先明确）

> 若用户未指定技术栈，默认使用：后端 Python（FastAPI / Flask）+ 前端现代框架（React/Next.js 或 Vue）+ 常用 ML 库。

- 后端
  - 语言：Python
  - 框架：FastAPI（推荐，便于异步和文档自动生成）
  - 核心依赖：
    - `pandas`, `numpy`（数据处理）
    - `scikit-learn`（特征工程、建模、评估）
    - 视需求扩展 `xgboost` 或 `lightgbm`

- 前端
  - React 或 Next.js（任选其一，需支持现代组件和数据可视化）。
  - 使用 Tailwind CSS / Ant Design / Element Plus 等 UI 库提高开发效率。
  - 图表库：ECharts / Chart.js / Recharts，用于展示训练结果和特征重要性。

- 大模型服务
  - 通过后端统一封装 HTTP 请求，调用外部 LLM API。
  - 所有密钥放在 `.env` 或安全配置中，不写死在代码。

- 存储（数据持久化与商品级设计）

  - 核心需求：
    - 持久化保存用户上传的数据集（文件 + 解析后的元数据）。
    - 持久化保存「实验记录」（包含数据版本、特征配置、模型配置、训练结果、LLM 总结等）。
    - 支持多用户隔离（不同账号的数据和实验记录相互不可见）。

  - 初版（开发/本地环境）：
    - 使用 **SQLite** 作为本地数据库，存储用户、数据集元数据和实验记录。
    - 上传的原始 CSV 文件保存在本地 `uploads/` 目录，并在数据库中记录文件路径。

  - 生产 / 商业化部署推荐：
    1. **PostgreSQL + 对象存储（推荐优先）**  
       - 托管 PostgreSQL（Supabase、Render、AWS RDS 等）存储结构化数据（用户、数据集、实验、订阅信息等）。
       - 对象存储（Supabase Storage、S3、R2 等）存放大文件（数据集、报告、生成图片）。
    2. **Supabase 一体化方案**  
       - 使用 Supabase Auth 做用户认证和权限。
       - 使用 Supabase Database（PostgreSQL）和 Storage 分别存结构化数据和文件。
    3. **Firebase Firestore + Cloud Storage**  
       - Firestore 存储文档型的实验记录，Cloud Storage 存储文件。

  - 数据安全与隐私：
    - 为每条数据和实验记录绑定 `user_id`，做严格的权限检查。
    - 上传数据默认仅用户自己可见，教师/团队协作视后续需求扩展。
    - 为未来接入「软删除」「数据导出」和「账号注销」能力预留设计空间。

---

## 四、用户角色与权限（支持注册、登录与订阅）

- 初版（MVP）：
  - 可提供「试玩模式」：不登录即可体验一小部分功能（例如小数据集、有限次数实验），实验数据只做临时保存。
  - 通过试玩模式引导用户注册，体验结束时提示「注册后可长期保存数据和实验记录」。

- 正式商品化版本：
  - 用户体系：
    - 支持用户注册/登录（Email + 密码，可预留第三方登录如 GitHub / Google）。
    - 每个登录用户拥有独立的数据集和实验记录空间，数据库中通过 `user_id` 做严格隔离。
  - 订阅与套餐（只在提示词中约束方向，具体细节可后续设计）：
    - 免费层（Free）：数据集大小/实验次数有限，不支持导出高分辨率图片或完整报告。
    - 标准层（Pro）：提高数据集大小和实验次数上限，支持完整报告导出和总结性图片生成。
    - 教育/团队层（Edu/Team，可选）：适配老师/班级使用，支持多用户共享项目或查看学生报告。
  - 支付集成（规划性要求）：
    - 预留与 Stripe / 微信支付 / 支付宝 等支付网关集成的接口层。
    - 在数据库中为用户保存订阅状态、到期时间、套餐类型，并在后台根据订阅状态控制配额和功能访问。

---

## 五、典型使用流程（用户视角）

1. 进入网站首页，看到「创建新实验」入口，并有简短的新手引导。
2. （可选）用户注册并登录后，可解锁更大的数据集上传配额和实验保存功能。
3. 选择/上传数据集（或选择示例数据集）。
4. 在「数据处理」步骤中：
   - 查看数据基本情况。
   - 通过简单选项选择缺失值处理方式，执行数据清洗。
5. 进入「特征工程」步骤：
   - 勾选需要的特征处理（标准化、编码等）。
   - 可选做简单特征选择。
6. 进入「模型训练」步骤：
   - 选择任务类型（分类/回归）。
   - 选择算法、配置少量关键超参数，或使用系统推荐配置。
   - 点击「开始训练」，等待训练完成。
7. 进入「结果分析」页面：
   - 查看指标表、混淆矩阵/残差图、特征重要性等，并附加简单文字说明。
8. 点击「生成总结报告」：
   - 后端整理实验结果 → 调用大模型生成文本总结。
   - 页面展示总结文档，并可下载为 Markdown。
9. 点击「生成总结图片」：
   - 后端基于实验结果和总结文档构造图像 Prompt → 调用图像模型。
   - 页面展示生成的图片，并提供下载按钮。

---

## 六、后续可扩展方向（在未来版本中考虑）

- 支持更多数据类型（时间序列、文本 NLP 任务等）。
- 支持 AutoML 功能：自动搜索多个模型与超参数组合，并输出最佳方案。
- 增加「教学模式」：在每一步给出解释说明和可视化教程。
- 支持在线分享实验报告链接（只读），方便老师批改或同学之间交流。

---

## 请你在后续开发中根据本提示词：

1. 先搭建最小可用版本（MVP）：数据上传 + 简单模型训练 + 指标展示 + 文本总结。
2. 再迭代增加特征工程、更多模型和更丰富的可视化，以及拖拽式可视化工作流。
3. 在调用大模型时，注意 prompt 结构清晰、包含足够的上下文信息。
4. 所有对外展示的内容（页面文案、总结报告）尽量使用简体中文，技术细节可保留英文术语。

